<div class="row">
<!-- col -->
<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
<h1 class="page-title txt-color-blue"><i class="fa-fw fa {% if id != 'clave' %} fa-user {% else %} fa-key {% endif %}"></i> Propietario <span>>
{% if id != 'clave' %}Datos Personales {% else %} Clave de acceso {% endif %} </span></h1>
</div>
<!-- end col -->
</div>
{%if resultado%}
{% include 'misc/resultado.html.twig' %}
{% endif %}
<section class="" id="widget-grid">
<div class="row">
<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12 sortable-grid ui-sortable">
<div data-widget-custombutton="false" 
    data-widget-fullscreenbutton="false" 
    data-widget-deletebutton="false" 
    data-widget-togglebutton="false" 
    data-widget-editbutton="false" 
    data-widget-colorbutton="false" 
    id="wid-id-11" 
    class="jarviswidget jarviswidget-color-blueLight" role="widget">
<!-- widget options:
usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

data-widget-colorbutton="false"	
data-widget-editbutton="false"
data-widget-togglebutton="false"
data-widget-deletebutton="false"
data-widget-fullscreenbutton="false"
data-widget-custombutton="false"
data-widget-collapsed="true" 
data-widget-sortable="false"
-->
<header role="heading">
<h3 class="font-md">Perfíl Propietario</h3>	
<ul class="nav nav-tabs pull-right" id="widget-tab-1">
<li class="active">
<a id="a-perfil" href="#hr1" data-toggle="tab"> <i class="fa fa-lg fa-folder-open-o"></i> <span class="hidden-mobile hidden-tablet"> Información básica </span> </a>
</li>
<li>
<a id="a-clave" href="#hr2" data-toggle="tab"> <i class="fa fa-lg fa-key"></i> <span class="hidden-mobile hidden-tablet"> Clave de acceso </span></a>
</li>
</ul>	
<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span></header>
<!-- widget div-->
<div role="content">
<!-- widget edit box -->
<div class="jarviswidget-editbox">
<!-- This area used as dropdown edit box -->
</div>
<!-- end widget edit box -->
<!-- widget content -->
<div class="widget-body">
<!-- widget body text-->
<div class="tab-content padding-10">
<div id="hr1" class="tab-pane fade in active">
<p class="alert alert-info">Estimado propietario, es importante para nosotros que mantenga actualizada su información de contacto. Ayudenos a mantenerlo informado en todo momento de la sitiación de su inmueble.</p>
<div class="widget-body">
<form class="smart-form" name="perfil">
<fieldset>
<legend class="txt-color-blue"><strong>Datos Generales</strong></legend>
<input type="hidden" name="id" value="{{propietario.id}}"/>
<input type="hidden" name="modificado" value="1"/>
<div class="row">
    <section class="col col-9">
        <label class="input">
            <i class="icon-prepend fa fa-user"></i>
            <input 
                type="text" 
                value="{{propietario.nombre}}" 
                class="form-control" 
                disabled="disabled"
                placeholder="Nombre / Razón Social"
            >
        </label>
        <div class="note">Nombre o Razón Social</div>
    </section>
    <section class="col col-3">
        <label class="input">
            <input 
                type="text" 
                list="list" 
                class="form-control" 
                value="{{ propietario.cedula }}"  
                disabled="disabled"
                placeholder="Documento de Identidad"
            >
        </label>
        <div class="note">Número documento identidad</div>
    </section>
</div>
</fieldset>
<fieldset>
<legend class="txt-color-blue"><strong>Datos de Contacto</strong></legend>

<div class="row">
    <section class="col col-4">
    <label class="input">
        <i class="icon-prepend fa fa-phone"></i>
        <input 
            type="text" 
            id="telefono2" 
            name="telefono2" 
            value="{{propietario.telefono2}}" 
            class="form-control" 
            data-mask-placeholder="_" 
            data-mask="(9999) 999-9999"
            placeholder="Teléfono hábitación"
        >
    </label>
    <div class="note">Formato: (XXXX) XXX-XXXX</div>
    </section>
    <section class="col col-4">
    <label class="input">
        <i class="icon-prepend fa fa-phone"></i>
        <input 
            type="text" 
            id="telefono1" 
            name="telefono1" 
            value="{{propietario.telefono1}}" 
            class="form-control" 
            data-mask-placeholder="_" 
            data-mask="(9999) 999-9999"
            placeholder="Teléfono Oficina"
        >
    </label>
    <div class="note">Formato: (XXXX) XXX-XXXX</div>
    </section>
    <section class="col col-4">
        <label class="input">
            <i class="icon-prepend fa fa-mobile"></i>
            <input 
                type="text" 
                id="telefono3" 
                name="telefono3" 
                value="{{ propietario.telefono3 }}" 
                class="alphanumeric form-control"  
                data-mask-placeholder="_" 
                data-mask="(9999) 999-9999"
                placeholder="Teléfono Celular"
            >
        </label>
        <div class="note">Formato: (XXXX) XXX-XXXX</div>
    </section>
</div>

<div class="row">
    <section class="col col-6">
        <label class="input">
            <i class="icon-prepend fa fa-envelope"></i>
            <input 
                type="text" 
                id="email" 
                name="email" 
                value="{{propietario.email }}" 
                class="required email form-control"
                placeholder="Correo electrónico"
            >
        </label>
    </section>
    <section class="col col-6">
        <label class="input">
            <i class="icon-prepend fa fa-envelope"></i>
            <input 
                type="text" 
                id="email_alternativo" 
                name="email_alternativo" 
                value="{{propietario.email_alternativo}}" 
                class="required email form-control"
                placeholder="Correo alternativo"
            >
        </label>
    </section>
</div>
<section>

    <label class="textarea">
        <textarea 
            class="required form-control" 
            name="direccion" 
            maxlength="254"
            placeholder="Dirección"
        >{{propietario.direccion}}</textarea>
    </label>
</section>
</fieldset>
<footer>    
    <button class="btn btn-success" name="actualizar">
    <i class="fa fa-save"></i>
    Guardar
    </button>
</footer>
</form>
</div>
</div>
<div id="hr2" class="tab-pane fade in">
<p class="alert alert-info">Aquí podrá cambiar su clave de acceso actual.<br>La clave de acceso debe ser mínimo de cuatro (4) caracteres y máximo de siete (7).</p>
<div class="widget-body">
<form class="smart-form" name="clave" novalidate="novalidate">
<fieldset>
<legend class="txt-color-blue"><strong>Clave de acceso</strong></legend>
<input type="hidden" name="id" value="{{propietario.id}}"/>
<input type="hidden" name="modificado" value="1"/>
<div class="row">
<section class="col col-6">
<label class="label">Ingrese su clave actual: </label>
<label class="input">
<i class="icon-append fa fa-sign-in"></i>
<input type="password" value="" class="form-control" name="clave_actual" maxlength="7">
</label>
</section>
</div>
<div class="row">
<section class="col col-6">
<label class="label">Ingrese su clave nueva: </label>
<label class="input">
<i class="icon-append fa fa-key"></i>
<input type="password" list="list" class="form-control" value="" name="clave" maxlength="7">
</label>
</section>
</div>
</fieldset>
<footer>
<button class="btn btn-primary" name="cambiar">
<i class="fa fa-save"></i>
Actualizar
</button>
</footer>
</form>

</div>
</div>
</div>
<!-- end widget body text-->
</div>
<!-- end widget content -->
</div>
<!-- end widget div -->
</div>
</article>
</div>
</section>
        <script src="{{ constant('ROOT')}}assets/js/app/jquery-validate/jquery.validate.min.js"></script>
        <script type="text/javascript">
            /* DO NOT REMOVE : GLOBAL FUNCTIONS!
             *
             * pageSetUp(); WILL CALL THE FOLLOWING FUNCTIONS
             *
             * // activate tooltips
             * $("[rel=tooltip]").tooltip();
             *
             * // activate popovers
             * $("[rel=popover]").popover();
             *
             * // activate popovers with hover states
             * $("[rel=popover-hover]").popover({ trigger: "hover" });
             *
             * // activate inline charts
             * runAllCharts();
             *
             * // setup widgets
             * setup_widgets_desktop();
             *
             * // run form elements
             * runAllForms();
             *
             ********************************
             *
             * pageSetUp() is needed whenever you load a page.
             * It initializes and checks for all basic elements of the page
             * and makes rendering easier.
             *
             */

            pageSetUp();

            /*
             * ALL PAGE RELATED SCRIPTS CAN GO BELOW HERE
             * eg alert("my home function");
             * 
             * var pagefunction = function() {
             *   ...
             * }
             * loadScript("js/plugin/_PLUGIN_NAME_.js", pagefunction);
             * 
             * TO LOAD A SCRIPT:
             * var pagefunction = function (){ 
             *  loadScript(".../plugin.js", run_after_loaded);	
             * }
             * 
             * OR
             * 
             * loadScript(".../plugin.js", run_after_loaded);
             */

            // PAGE RELATED SCRIPTS

            // pagefunction

            var pagefunction = function() {

            };

            // end pagefunction

            // run pagefunction on load

            pagefunction();
            $(function() {
                $('a#a-{{id}}').trigger('click');
            });

            $(function() {
                $("button[name|='actualizar']").click(function() {
                    var url = "{{constant('URL_SISTEMA')}}/propietario/modificar/perfil";
                    var data = $("form[name|='perfil']").serialize();
                    enviarFormulario(data, url);
                    return false; // Evitar ejecutar el submit del formulario.
                });
            });

            $(function() {
                $("button[name|='cambiar']").click(function() {
                    var url = "{{constant('URL_SISTEMA')}}/propietario/modificar/clave";
                    var data = $("form[name|='clave']").serialize();
                    if (!$("form[name|='clave']").valid()) {
                        return false;
                    } else {
                        enviarFormulario(data, url);
                    }
                    return false; // Evitar ejecutar el submit del formulario.
                });
            });

            $(function() {
                // Validation
                $("form[name|='clave']").validate({
                    // Rules for form validation
                    rules: {
                        clave_actual: {
                            required: true,
                            minlength: 4
                        },
                        clave: {
                            required: true,
                            minlength: 4,
                            maxlength: 7
                        }
                    },
                    // Messages for form validation
                    messages: {
                        clave_actual: {
                            required: 'Ingrese su clave actual',
                            minlength: 'La clave debe ser mínimo de 4 caracteres'
                        },
                        clave: {
                            required: 'Ingrese su NUEVA clave de acceso',
                            minlength: 'La nueva clave debe ser mínimo de 4 caracteres',
                            maxlength: 'La nueva clave no debe ser mayor de 20 caracteres'
                        }
                    },
                    // Do not change code below
                    errorPlacement: function(error, element) {
                        error.insertAfter(element.parent());
                    }
                });
            });

            </script>